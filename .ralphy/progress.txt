2026-01-25 - Phase 1 Database Schema: Created all database tables (training, exercise, trainingSession, sessionParticipant, exerciseProgress, friend) in packages/db/src/schema/training.ts with proper relations and indexes. Exported schemas and ran db:push to sync with Supabase. Linting and build passed.
2026-01-25 - Phase 1 Authentication Enhancement: Added Google OAuth provider to Better-Auth in packages/auth/src/index.ts with socialProviders configuration. Added GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET optional environment variables to packages/env/src/server.ts. Updated apps/web/src/lib/auth-client.ts with baseURL configuration for OAuth flow. Linting passed, build succeeded.
2026-01-25 - Phase 2 Training Router: Created packages/api/src/routers/training.ts with create, update, and delete mutations for trainings using protectedProcedure. All operations include proper authorization checks to ensure users can only modify their own trainings. Registered training router in packages/api/src/routers/index.ts. Linting passed, type checking passed, build succeeded.
2026-01-25 - Phase 2 Exercise Router: Created packages/api/src/routers/exercise.ts with create, createMany, update, delete, and deleteByTraining mutations for exercises using protectedProcedure. All operations include proper authorization checks to ensure users can only modify exercises in their own trainings. Registered exercise router in packages/api/src/routers/index.ts. Linting passed, type checking passed.
2026-01-25 - Phase 2 Invite System: Created packages/api/src/utils/invite-code.ts with generateInviteCode and isValidInviteCode utilities using nanoid with safe alphabet (no ambiguous characters). Provides ~2.8 trillion possible combinations. Installed nanoid package.
2026-01-25 - Phase 2 Session Router: Created packages/api/src/routers/session.ts with start, end, join, leave, and updateAccess mutations using protectedProcedure. Implements invite code generation with collision detection, authorization checks (host-only operations), and proper error handling. Registered session router in packages/api/src/routers/index.ts. Linting passed, type checking passed, build succeeded.
2026-01-25 - Phase 2 Progress Router: Created packages/api/src/routers/progress.ts with record, update, delete, getBySession, and calculatePercentage operations using protectedProcedure. record mutation creates or updates exercise progress with completed reps array. Users can only modify their own progress. getBySession query returns all progress for a session with optional user filtering. calculatePercentage computes completion percentage comparing completed reps against target reps/sets. Registered progress router in packages/api/src/routers/index.ts. Linting passed, type checking passed, build succeeded.
2026-01-25 - Phase 2 Exercise Parser Router: Created packages/api/src/routers/exercise-parser.ts with AI-powered text-to-exercises parsing. Supports multiple formats: "10x4 pushup" (standard), "10,10,8,6 pull ups" (comma-separated reps), "5 sets of 10 pushups" (natural language), and handles weight (lbs/kg) and rest times. Includes parse mutation for preview and parseAndCreate mutation for direct database insertion with training ownership verification. Created comprehensive test suite in packages/api/src/routers/__tests__/exercise-parser.test.ts with 25 tests covering all patterns, edge cases, and real-world examples. All tests pass. Added test script to packages/api/package.json. Registered exerciseParser router in packages/api/src/routers/index.ts. Linting passed.
2026-01-25 - Phase 2 Friend Router: Created packages/api/src/routers/friend.ts with friend relationship management mutations using protectedProcedure. Includes send mutation for creating pending friend requests with duplicate/prevention logic, accept mutation for accepting pending requests (only requests sent to current user), reject mutation for deleting pending requests, remove mutation for removing friends or canceling own pending requests, and block mutation for blocking users (updates existing relationship or creates new blocked status). All operations include proper authorization checks and bidirectional relationship handling. Registered friend router in packages/api/src/routers/index.ts. Created test suite in packages/api/src/routers/__tests__/friend.test.ts with structural and business logic validation tests. All tests pass (37 tests). Linting passed, type checking passed.
2026-01-25 - Phase 2 AI Summary Router: Created packages/api/src/routers/ai-summary.ts with AI-powered training summary generation comparing participants' performance. Includes three queries: generate (full summary with comparisons, highlights, and insights), quickSummary (lightweight key stats), and personalSummary (individual user's performance). Implements calculateExercisePercentage for computing completion rates, generateHighlights for individual performance feedback, generateComparisons for participant rankings with tie detection, and generateSessionInsights for session-wide analysis including team effort and close competition detection. Created comprehensive test suite in packages/api/src/routers/__tests__/ai-summary.test.ts with 28 tests covering percentage calculation, highlights, comparisons, session insights, and integration scenarios. All tests pass (59 total tests across all router test files). Registered aiSummary router in packages/api/src/routers/index.ts. Linting passed, type checking passed, build succeeded.
2026-01-25 - Phase 3 Training Card Component: Created apps/web/src/components/training/training-card.tsx - mobile-first training preview card component. Displays training name, description (with line-clamp), exercise count (fetched via Supabase), and creation time (using date-fns formatDistanceToNow). Includes edit/delete dropdown menu with proper authorization checks (only shows for owner). Uses shadcn/ui Card components and follows hybrid pattern (read from Supabase, write via tRPC). Icon button uses lucide-react Dumbbell and MoreVertical icons. Mobile-responsive with Tailwind CSS. Installed date-fns dependency. Linting passed, type checking passed, build succeeded.
